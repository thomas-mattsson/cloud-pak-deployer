<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Automated deployer of OpenShift cluster and IBM Cloud Paks"><meta name=author content=Author><link href=https://ibm.github.io/cloud-pak-deployer/30-reference/configuration/infrastructure/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.3.1, mkdocs-material-8.5.3"><title>Infrastructure - Cloud Pak Deployer</title><link rel=stylesheet href=../../../assets/stylesheets/main.7a952b86.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.cbb835fc.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../css/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=none data-md-color-accent=none> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#infrastructure class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="Cloud Pak Deployer" class="md-header__button md-logo" aria-label="Cloud Pak Deployer" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Cloud Pak Deployer </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Infrastructure </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/IBM/cloud-pak-deployer title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> Cloud Pak Deployer </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="Cloud Pak Deployer" class="md-nav__button md-logo" aria-label="Cloud Pak Deployer" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> Cloud Pak Deployer </label> <div class=md-nav__source> <a href=https://github.com/IBM/cloud-pak-deployer title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> Cloud Pak Deployer </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../../01-introduction/current-state/ class=md-nav__link> Current state </a> </li> <li class=md-nav__item> <a href=../../../05-install/install/ class=md-nav__link> Installing Cloud Pak Deployer </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Using Cloud Pak Deployer <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Using Cloud Pak Deployer" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Using Cloud Pak Deployer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../10-use-deployer/1-overview/overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> Run <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Run data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Run </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/run/ class=md-nav__link> Running Cloud Pak Deployer </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/existing-openshift/ class=md-nav__link> Existing OpenShift </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/existing-openshift-console/ class=md-nav__link> Existing OpenShift using Console </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/aws-rosa/ class=md-nav__link> AWS ROSA </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/aws-self-managed/ class=md-nav__link> AWS Self-managed </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/azure-aro/ class=md-nav__link> Azure ARO </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/azure-self-managed/ class=md-nav__link> Azure Self-managed </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/vsphere/ class=md-nav__link> vSphere </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/fusion-hci/ class=md-nav__link> Spectrum HCI </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3 type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3> Post-run <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Post-run data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Post-run </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../10-use-deployer/5-post-run/post-run/ class=md-nav__link> Post-run changes </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/7-command/command/ class=md-nav__link> Running commands </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/9-destroy/destroy/ class=md-nav__link> Destroy cluster </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5> Reference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Reference data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1 type=checkbox id=__nav_5_1 checked> <label class=md-nav__link for=__nav_5_1> Configuration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Configuration data-md-level=2> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../topologies/ class=md-nav__link> Topologies </a> </li> <li class=md-nav__item> <a href=../cpd-objects/ class=md-nav__link> Objects overview </a> </li> <li class=md-nav__item> <a href=../cpd-global-config/ class=md-nav__link> Global config </a> </li> <li class=md-nav__item> <a href=../vault/ class=md-nav__link> Vault </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Infrastructure <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Infrastructure </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ibm-cloud class=md-nav__link> IBM Cloud </a> <nav class=md-nav aria-label="IBM Cloud"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ibm-cloud-provider class=md-nav__link> IBM Cloud provider </a> <nav class=md-nav aria-label="IBM Cloud provider"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-resource_group class=md-nav__link> IBM Cloud resource_group </a> <nav class=md-nav aria-label="IBM Cloud resource_group"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_1 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-ssh_keys class=md-nav__link> IBM Cloud ssh_keys </a> <nav class=md-nav aria-label="IBM Cloud ssh_keys"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_2 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-security_rule class=md-nav__link> IBM Cloud security_rule </a> <nav class=md-nav aria-label="IBM Cloud security_rule"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_3 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-vpc class=md-nav__link> IBM Cloud vpc </a> <nav class=md-nav aria-label="IBM Cloud vpc"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_4 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-address_prefix class=md-nav__link> IBM Cloud address_prefix </a> <nav class=md-nav aria-label="IBM Cloud address_prefix"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_5 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-subnet class=md-nav__link> IBM Cloud subnet </a> <nav class=md-nav aria-label="IBM Cloud subnet"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_6 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-network_acl class=md-nav__link> IBM Cloud network_acl </a> <nav class=md-nav aria-label="IBM Cloud network_acl"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_7 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-vsi class=md-nav__link> IBM Cloud vsi </a> <nav class=md-nav aria-label="IBM Cloud vsi"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_8 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-transit_gateway class=md-nav__link> IBM Cloud transit_gateway </a> <nav class=md-nav aria-label="IBM Cloud transit_gateway"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_9 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-nfs_server class=md-nav__link> IBM Cloud nfs_server </a> <nav class=md-nav aria-label="IBM Cloud nfs_server"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_10 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-cos class=md-nav__link> IBM Cloud cos </a> <nav class=md-nav aria-label="IBM Cloud cos"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_11 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#serviceid class=md-nav__link> serviceid </a> <nav class=md-nav aria-label=serviceid> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_12 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#microsoft-azure class=md-nav__link> Microsoft Azure </a> <nav class=md-nav aria-label="Microsoft Azure"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#azure class=md-nav__link> Azure </a> <nav class=md-nav aria-label=Azure> <ul class=md-nav__list> <li class=md-nav__item> <a href=#properties-explanation class=md-nav__link> Properties explanation </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#amazon class=md-nav__link> Amazon </a> <nav class=md-nav aria-label=Amazon> <ul class=md-nav__list> <li class=md-nav__item> <a href=#aws-efs-server-nfs_server class=md-nav__link> AWS EFS Server nfs_server </a> <nav class=md-nav aria-label="AWS EFS Server nfs_server"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_13 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vsphere class=md-nav__link> vSphere </a> <nav class=md-nav aria-label=vSphere> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vsphere-vsphere class=md-nav__link> vSphere vsphere </a> <nav class=md-nav aria-label="vSphere vsphere"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_14 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vsphere-vm_definition class=md-nav__link> vSphere vm_definition </a> <nav class=md-nav aria-label="vSphere vm_definition"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_15 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vsphere-nfs_server class=md-nav__link> vSphere nfs_server </a> <nav class=md-nav aria-label="vSphere nfs_server"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_16 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1_6 type=checkbox id=__nav_5_1_6> <label class=md-nav__link for=__nav_5_1_6> OpenShift <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=OpenShift data-md-level=3> <label class=md-nav__title for=__nav_5_1_6> <span class="md-nav__icon md-icon"></span> OpenShift </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../openshift/ class=md-nav__link> OpenShift </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1_6_2 type=checkbox id=__nav_5_1_6_2> <label class=md-nav__link for=__nav_5_1_6_2> Identity and Access Management <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Identity and Access Management" data-md-level=4> <label class=md-nav__title for=__nav_5_1_6_2> <span class="md-nav__icon md-icon"></span> Identity and Access Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../redhat-sso/ class=md-nav__link> Red Hat SSO </a> </li> <li class=md-nav__item> <a href=../demo-openldap/ class=md-nav__link> Demo OpenLDAP </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../monitoring/ class=md-nav__link> Monitoring </a> </li> <li class=md-nav__item> <a href=../monitoring/ class=md-nav__link> Logging and auditing </a> </li> <li class=md-nav__item> <a href=../dns/ class=md-nav__link> DNS </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../cloud-pak/ class=md-nav__link> Cloud Paks </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1_8 type=checkbox id=__nav_5_1_8> <label class=md-nav__link for=__nav_5_1_8> Cloud Pak for Data <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Data" data-md-level=3> <label class=md-nav__title for=__nav_5_1_8> <span class="md-nav__icon md-icon"></span> Cloud Pak for Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cp4d-cartridges/ class=md-nav__link> Cartridges </a> </li> <li class=md-nav__item> <a href=../cp4d-instances/ class=md-nav__link> Instances </a> </li> <li class=md-nav__item> <a href=../cp4d-connections/ class=md-nav__link> Platform connections </a> </li> <li class=md-nav__item> <a href=../cp4d-access-control/ class=md-nav__link> Access Control </a> </li> <li class=md-nav__item> <a href=../cp4d-assets/ class=md-nav__link> Assets </a> </li> <li class=md-nav__item> <a href=../monitoring/ class=md-nav__link> Monitoring </a> </li> <li class=md-nav__item> <a href=../logging-auditing/ class=md-nav__link> Logging and auditing </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../cp4ba/ class=md-nav__link> Cloud Pak for Business Automation </a> </li> <li class=md-nav__item> <a href=../private-registry/ class=md-nav__link> Private registries </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2 type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2> Process <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Process data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Process </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../process/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../process/validate/ class=md-nav__link> Validate </a> </li> <li class=md-nav__item> <a href=../../process/prepare/ class=md-nav__link> Prepare </a> </li> <li class=md-nav__item> <a href=../../process/provision-infra/ class=md-nav__link> Provision infra </a> </li> <li class=md-nav__item> <a href=../../process/configure-infra/ class=md-nav__link> Configure infra </a> </li> <li class=md-nav__item> <a href=../../process/install-cloud-pak/ class=md-nav__link> Install Cloud Paks </a> </li> <li class=md-nav__item> <a href=../../process/configure-cloud-pak/ class=md-nav__link> Configure Cloud Paks </a> </li> <li class=md-nav__item> <a href=../../process/deploy-assets/ class=md-nav__link> Deploy assets </a> </li> <li class=md-nav__item> <a href=../../process/smoke-tests/ class=md-nav__link> Smoke tests </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../timings/ class=md-nav__link> Timings </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Troubleshooting <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Troubleshooting data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../40-troubleshooting/cp4d-uninstall/ class=md-nav__link> Cloud Pak for Data uninstall </a> </li> <li class=md-nav__item> <a href=../../../40-troubleshooting/ibm-cloud-access-nfs-server/ class=md-nav__link> Access NFS server on IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> Advanced <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Advanced data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7_1 type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1> Run on OpenShift <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Run on OpenShift" data-md-level=2> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> Run on OpenShift </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../50-advanced/run-on-openshift/run-deployer-on-openshift-using-console/ class=md-nav__link> Running deployer on OpenShift using console </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/run-on-openshift/build-image-and-run-deployer-on-openshift/ class=md-nav__link> Build image and run deployer on OpenShift </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/run-on-openshift/run-deployer-wizard-on-openshift/ class=md-nav__link> Run deployer wizard on OpenShift </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../50-advanced/private-registry-and-air-gapped/ class=md-nav__link> Private registry and air-gapped </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/alternative-repo-reg/ class=md-nav__link> Using alternative CASE repositories and registries </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/advanced-configuration/ class=md-nav__link> Advanced configuration </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/locations-to-whitelist/ class=md-nav__link> Locations to whitelist </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/apply-node-settings-non-mco/ class=md-nav__link> Apply node settings to non-MCO clusters </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/cp4d-pre-release/ class=md-nav__link> Installing pre-releases of Cloud Pak for DAta </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/gitops/ class=md-nav__link> GitOps </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8> Development <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Development data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../80-development/deployer-development-setup/ class=md-nav__link> Deployer development setup </a> </li> <li class=md-nav__item> <a href=../../../80-development/doc-development-setup/ class=md-nav__link> Deployer documentation development setup </a> </li> <li class=md-nav__item> <a href=../../../80-development/doc-guidelines/ class=md-nav__link> Deployer documentation guidelines </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ibm-cloud class=md-nav__link> IBM Cloud </a> <nav class=md-nav aria-label="IBM Cloud"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ibm-cloud-provider class=md-nav__link> IBM Cloud provider </a> <nav class=md-nav aria-label="IBM Cloud provider"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-resource_group class=md-nav__link> IBM Cloud resource_group </a> <nav class=md-nav aria-label="IBM Cloud resource_group"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_1 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-ssh_keys class=md-nav__link> IBM Cloud ssh_keys </a> <nav class=md-nav aria-label="IBM Cloud ssh_keys"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_2 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-security_rule class=md-nav__link> IBM Cloud security_rule </a> <nav class=md-nav aria-label="IBM Cloud security_rule"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_3 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-vpc class=md-nav__link> IBM Cloud vpc </a> <nav class=md-nav aria-label="IBM Cloud vpc"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_4 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-address_prefix class=md-nav__link> IBM Cloud address_prefix </a> <nav class=md-nav aria-label="IBM Cloud address_prefix"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_5 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-subnet class=md-nav__link> IBM Cloud subnet </a> <nav class=md-nav aria-label="IBM Cloud subnet"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_6 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-network_acl class=md-nav__link> IBM Cloud network_acl </a> <nav class=md-nav aria-label="IBM Cloud network_acl"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_7 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-vsi class=md-nav__link> IBM Cloud vsi </a> <nav class=md-nav aria-label="IBM Cloud vsi"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_8 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-transit_gateway class=md-nav__link> IBM Cloud transit_gateway </a> <nav class=md-nav aria-label="IBM Cloud transit_gateway"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_9 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-nfs_server class=md-nav__link> IBM Cloud nfs_server </a> <nav class=md-nav aria-label="IBM Cloud nfs_server"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_10 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ibm-cloud-cos class=md-nav__link> IBM Cloud cos </a> <nav class=md-nav aria-label="IBM Cloud cos"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_11 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#serviceid class=md-nav__link> serviceid </a> <nav class=md-nav aria-label=serviceid> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_12 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#microsoft-azure class=md-nav__link> Microsoft Azure </a> <nav class=md-nav aria-label="Microsoft Azure"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#azure class=md-nav__link> Azure </a> <nav class=md-nav aria-label=Azure> <ul class=md-nav__list> <li class=md-nav__item> <a href=#properties-explanation class=md-nav__link> Properties explanation </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#amazon class=md-nav__link> Amazon </a> <nav class=md-nav aria-label=Amazon> <ul class=md-nav__list> <li class=md-nav__item> <a href=#aws-efs-server-nfs_server class=md-nav__link> AWS EFS Server nfs_server </a> <nav class=md-nav aria-label="AWS EFS Server nfs_server"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_13 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vsphere class=md-nav__link> vSphere </a> <nav class=md-nav aria-label=vSphere> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vsphere-vsphere class=md-nav__link> vSphere vsphere </a> <nav class=md-nav aria-label="vSphere vsphere"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_14 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vsphere-vm_definition class=md-nav__link> vSphere vm_definition </a> <nav class=md-nav aria-label="vSphere vm_definition"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_15 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vsphere-nfs_server class=md-nav__link> vSphere nfs_server </a> <nav class=md-nav aria-label="vSphere nfs_server"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation_16 class=md-nav__link> Property explanation </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/IBM/cloud-pak-deployer/edit/main/docs/30-reference/configuration/infrastructure.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=infrastructure>Infrastructure<a class=headerlink href=#infrastructure title="Permanent link">ðŸ”—</a></h1> <p>For some of the cloud platforms, you must explicitly specify the infrastructure layer on which the OpenShift cluster(s) will be provisioned, or you can override the defaults. </p> <p>For IBM Cloud, you can configure the VPC, subnets, NFS server(s), other Virtual Server Instance(s) and a number of other objects. When provisioning OpenShift on vSphere, you can configure data center, data store, network and virtual machine definitions. For Azure ARO you configure a single object with information about the virtual network (vnet) to be used and the node server profiles. When deploying OpenShift on AWS you can specify an EFS server if you want to use elastic storage.</p> <p>This page lists all the objects you can configure for each of the supported cloud providers. - <a href=#ibm-cloud>IBM Cloud</a> - <a href=#microsoft-azure>Microsoft Azure</a> - <a href=#amazon>Amazon AWS</a> - <a href=#vsphere>vSphere</a></p> <h2 id=ibm-cloud>IBM Cloud<a class=headerlink href=#ibm-cloud title="Permanent link">ðŸ”—</a></h2> <p>For IBM Cloud, the following object types are supported:</p> <ul> <li><a href=#ibm-cloud-provider>provider</a></li> <li><a href=#ibm-cloud-resource_group>resource_group</a></li> <li><a href=#ibm-cloud-ssh_keys>ssh_keys</a></li> <li><a href=#ibm-cloud-address_prefix>address_prefix</a></li> <li><a href=#ibm-cloud-subnet>subnet</a></li> <li><a href=#ibm-cloud-network_acl>network_acl</a></li> <li><a href=#ibm-cloud-security_group>security_group</a></li> <li><a href=#ibm-cloud-vsi>vsi</a></li> <li><a href=#ibm-cloud-transit_gateway>transit_gateway</a></li> <li><a href=#ibm-cloud-nfs_server>nfs_server</a></li> <li><a href=#serviceid>serviceid</a></li> <li><a href=#cos>cos</a></li> </ul> <h3 id=ibm-cloud-provider>IBM Cloud <code>provider</code><a class=headerlink href=#ibm-cloud-provider title="Permanent link">ðŸ”—</a></h3> <p>Defines the provider that Terraform will use for managing the IBM Cloud assets.</p> <div class=highlight><pre><span></span><code>provider:
- name: ibm
  region: eu-de
</code></pre></div> <h4 id=property-explanation>Property explanation<a class=headerlink href=#property-explanation title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the provider cluster</td> <td>No</td> <td>ibm</td> </tr> <tr> <td>region</td> <td>Region to connect to</td> <td>Yes</td> <td>Any IBM Cloud region</td> </tr> </tbody> </table> <h3 id=ibm-cloud-resource_group>IBM Cloud <code>resource_group</code><a class=headerlink href=#ibm-cloud-resource_group title="Permanent link">ðŸ”—</a></h3> <p>The resource group is for cloud asset grouping purposes. You can define multiple resource groups in your IBM cloud account to group the provisioned assets. If you do not need to group your assets, choose <code>default</code>.</p> <div class=highlight><pre><span></span><code>resource_group:
- name: default
</code></pre></div> <h4 id=property-explanation_1>Property explanation<a class=headerlink href=#property-explanation_1 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the existing resource group</td> <td>Yes</td> <td></td> </tr> </tbody> </table> <h3 id=ibm-cloud-ssh_keys>IBM Cloud <code>ssh_keys</code><a class=headerlink href=#ibm-cloud-ssh_keys title="Permanent link">ðŸ”—</a></h3> <p>SSH keys to connect to VSIs. If you have Virtual Server Instances in your VPC, you will need an SSH key to connect to them. SSH keys defined here will be looked up in the vault and created if they don't exist already.</p> <div class=highlight><pre><span></span><code>ssh_keys:
- name: vsi-access
  managed: True
</code></pre></div> <h4 id=property-explanation_2>Property explanation<a class=headerlink href=#property-explanation_2 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the SSH key in IBM Cloud</td> <td>Yes</td> <td></td> </tr> <tr> <td>managed</td> <td>Determines if the SSH key will be created if it doesn't exist</td> <td>No</td> <td>True (default), False</td> </tr> </tbody> </table> <h3 id=ibm-cloud-security_rule>IBM Cloud <code>security_rule</code><a class=headerlink href=#ibm-cloud-security_rule title="Permanent link">ðŸ”—</a></h3> <p>Defines the services (or ports) which are allowed within the context of a VPC and/or VSI.</p> <div class=highlight><pre><span></span><code>security_rule:
- name: https
  tcp: {port_min: 443, port_max: 443}
- name: ssh
  tcp: {port_min: 22, port_max: 22}
</code></pre></div> <h4 id=property-explanation_3>Property explanation<a class=headerlink href=#property-explanation_3 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the security rule</td> <td>Yes</td> <td></td> </tr> <tr> <td>tcp</td> <td>Range of tcp ports (<code>port_min</code> and <code>port_max</code>) to allow</td> <td>No</td> <td>1-65535</td> </tr> <tr> <td>udp</td> <td>Range of udp ports (<code>port_min</code> and <code>port_max</code>) to allow</td> <td>No</td> <td>1-65535</td> </tr> <tr> <td>icmp</td> <td>ICMP Type and Code for IPv4 (<code>code</code> and <code>type</code>) to allow</td> <td>No</td> <td>1-255 for code, 1-254 for type</td> </tr> </tbody> </table> <h3 id=ibm-cloud-vpc>IBM Cloud <code>vpc</code><a class=headerlink href=#ibm-cloud-vpc title="Permanent link">ðŸ”—</a></h3> <p>Defines the virtual private cloud which groups the provisioned objects (including VSIs and OpenShift cluster).</p> <div class=highlight><pre><span></span><code>vpc:
- name: sample
  allow_inbound: [&#39;ssh&#39;, &#39;https&#39;]
  classic_access: false
</code></pre></div> <h4 id=property-explanation_4>Property explanation<a class=headerlink href=#property-explanation_4 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the Virtual Private Cloud</td> <td>Yes</td> <td></td> </tr> <tr> <td>managed</td> <td>Controls whether the VPC is managed. The default is <code>True</code>. Only set to <code>False</code> if the VPC is not managed but only referenced by other objects such as transit gateways.</td> <td>No</td> <td>True (default), False</td> </tr> <tr> <td>allow_inbound</td> <td>Security rules which are allowed for inbound traffic</td> <td>No</td> <td>Existing <code>security_rule</code></td> </tr> <tr> <td>classic_access</td> <td>Connect VPC to IBM Cloud classic infratructure resources</td> <td>No</td> <td>false (default), true</td> </tr> </tbody> </table> <h3 id=ibm-cloud-address_prefix>IBM Cloud <code>address_prefix</code><a class=headerlink href=#ibm-cloud-address_prefix title="Permanent link">ðŸ”—</a></h3> <p>Defines the zones used within the VPC, along with the subnet the addresses will be issued for.</p> <div class=highlight><pre><span></span><code>- name: sample-zone-1
  vpc: sample
  zone: eu-de-1
  cidr: 10.27.0.0/26
- name: sample-zone-2
  vpc: sample
  zone: eu-de-2
  cidr: 10.27.0.64/26
- name: sample-zone-3
  vpc: sample
  zone: eu-de-3
  cidr: 10.27.0.128/26
</code></pre></div> <h4 id=property-explanation_5>Property explanation<a class=headerlink href=#property-explanation_5 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the zone</td> <td>Yes</td> <td></td> </tr> <tr> <td>zone</td> <td>Zone in the IBM Cloud</td> <td>Yes</td> <td></td> </tr> <tr> <td>cidr</td> <td>Address range that IPs in this zone will fall into</td> <td>Yes</td> <td></td> </tr> <tr> <td>vpc</td> <td>Virtual Private Cloud this address prefix belongs to</td> <td>Yes, inferred from vpc</td> <td>Existing <code>vpc</code></td> </tr> </tbody> </table> <h3 id=ibm-cloud-subnet>IBM Cloud <code>subnet</code><a class=headerlink href=#ibm-cloud-subnet title="Permanent link">ðŸ”—</a></h3> <p>Defines the subnet that Virtual Server Instances and ROKS compute nodes will be attached to.</p> <div class=highlight><pre><span></span><code>subnet:
- name: sample-subnet-zone-1
  address_prefix: sample-zone-1
  ipv4_cidr_block: 10.27.0.0/26
  zone: eu-de-1
  vpc: sample
  network_acl: sample-acl
</code></pre></div> <h4 id=property-explanation_6>Property explanation<a class=headerlink href=#property-explanation_6 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the subnet</td> <td>Yes</td> <td></td> </tr> <tr> <td>zone</td> <td>Zone this subnet belongs to</td> <td>Yes, inferred from address_prefix-&gt;zone</td> <td></td> </tr> <tr> <td>ipv4_cidr_block</td> <td>Address range that IPs in this subnet will fall into</td> <td>Yes, inferred from address_prefix-&gt;cidr</td> <td>Range of subrange of zone</td> </tr> <tr> <td>address_prefix</td> <td>Zone of the address prefix definition</td> <td>Yes, inferred from address_prefix</td> <td>Existing <code>address_prefix</code></td> </tr> <tr> <td>vpc</td> <td>Virtual Private Cloud this subnet prefix belongs to</td> <td>Yes, inferred from address_prefix-&gt;vpc</td> <td>Existing <code>vpc</code></td> </tr> <tr> <td>network_acl</td> <td>Reference to the network access control list protecting this subnet</td> <td>No</td> <td></td> </tr> </tbody> </table> <h3 id=ibm-cloud-network_acl>IBM Cloud <code>network_acl</code><a class=headerlink href=#ibm-cloud-network_acl title="Permanent link">ðŸ”—</a></h3> <p>Defines the network access control list to be associated with subnets to allow or deny traffic from or to external connections. The rules are processed in sequence per direction. Rules that appear higher in the list will be processed first.</p> <div class=highlight><pre><span></span><code>network_acl:
- name: &quot;{{ env_id }}-acl&quot;
  vpc_name: &quot;{{ env_id }}&quot;
  rules:
  - name: inbound-ssh
    action: allow               # Can be allow or deny
    source: &quot;0.0.0.0/0&quot;
    destination: &quot;0.0.0.0/0&quot;
    direction: inbound
    tcp:
      source_port_min: 1        # optional
      source_port_max: 65535    # optional
      dest_port_min: 22         # optional
      dest_port_max: 22         # optional
  - name: output-udp
    action: deny                # Can be allow or deny
    source: &quot;0.0.0.0/0&quot;
    destination: &quot;0.0.0.0/0&quot;
    direction: outbound
    udp:
      source_port_min: 1        # optional
      source_port_max: 65535    # optional
      dest_port_min: 1000       # optional
      dest_port_max: 2000       # optional
  - name: output-icmp
    action: allow               # Can be allow or deny
    source: &quot;0.0.0.0/0&quot;
    destination: &quot;0.0.0.0/0&quot;
    direction: outbound
    icmp:
      code: 1
      type: 1
</code></pre></div> <h4 id=property-explanation_7>Property explanation<a class=headerlink href=#property-explanation_7 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the network access control liet</td> <td>Yes</td> <td></td> </tr> <tr> <td>vpc_name</td> <td>Virtual Private Cloud this network ACL belongs to</td> <td>Yes</td> <td></td> </tr> <tr> <td>rules</td> <td>Rules to be applied, every rule is an entry in the list</td> <td>Yes</td> <td></td> </tr> <tr> <td>rules.name</td> <td>Unique name of the rule</td> <td>Yes</td> <td></td> </tr> <tr> <td>rules.action</td> <td>Defines whether the traffic is allowed or denied</td> <td>Yes</td> <td>allow, deny</td> </tr> <tr> <td>rules.source</td> <td>Source address range that defines the rule</td> <td>Yes</td> <td></td> </tr> <tr> <td>rules.destination</td> <td>Destination address range that defines the rule</td> <td>Yes</td> <td></td> </tr> <tr> <td>rules.direction</td> <td>Inbound or outbound direction of the traffic</td> <td>Yes</td> <td>inbound, outbound</td> </tr> <tr> <td>rules.tcp</td> <td>Rule for TCP traffic</td> <td>No</td> <td></td> </tr> <tr> <td>rules.tcp.source_port_min</td> <td>Low value of the source port range</td> <td>No, default=1</td> <td>1-65535</td> </tr> <tr> <td>rules.tcp.source_port_max</td> <td>High value of the source port range</td> <td>No, default=65535</td> <td>1-65535</td> </tr> <tr> <td>rules.tcp.dest_port_min</td> <td>Low value of the destination port range</td> <td>No, default=1</td> <td>1-65535</td> </tr> <tr> <td>rules.tcp.dest_port_max</td> <td>High value of the destination port range</td> <td>No, default=65535</td> <td>1-65535</td> </tr> <tr> <td>rules.udp</td> <td>Rule for UDP traffic</td> <td>No</td> <td></td> </tr> <tr> <td>rules.udp.source_port_min</td> <td>Low value of the source port range</td> <td>No, default=1</td> <td>1-65535</td> </tr> <tr> <td>rules.udp.source_port_max</td> <td>High value of the source port range</td> <td>No, default=65535</td> <td>1-65535</td> </tr> <tr> <td>rules.udp.dest_port_min</td> <td>Low value of the destination port range</td> <td>No, default=1</td> <td>1-65535</td> </tr> <tr> <td>rules.udp.dest_port_max</td> <td>High value of the destination port range</td> <td>No, default=65535</td> <td>1-65535</td> </tr> <tr> <td>rules.icmp</td> <td>Rule for ICMP traffic</td> <td>No</td> <td></td> </tr> <tr> <td>rules.icmp.code</td> <td>ICMP traffic code</td> <td>No, default=all</td> <td>0-255</td> </tr> <tr> <td>rules.icmp.type</td> <td>ICMP traffic type</td> <td>No, default=all</td> <td>0-254</td> </tr> </tbody> </table> <h3 id=ibm-cloud-vsi>IBM Cloud <code>vsi</code><a class=headerlink href=#ibm-cloud-vsi title="Permanent link">ðŸ”—</a></h3> <p>Defines a Virtual Server Instance within the VPC.</p> <div class=highlight><pre><span></span><code>vsi:
- name: sample-bastion
  infrastructure:
    type: vpc
    keys:
    - &quot;vsi-access&quot;
    image: ibm-redhat-8-3-minimal-amd64-3
    subnet: sample-subnet-zone-1
    primary_ipv4_address: 10.27.0.4
    public_ip: True
    vpc_name: sample
    zone: eu-de-3
</code></pre></div> <h4 id=property-explanation_8>Property explanation<a class=headerlink href=#property-explanation_8 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the Virtual Server Instance</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure</td> <td>Infrastructure attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure.type</td> <td>Infrastructure type</td> <td>Yes</td> <td>vpc</td> </tr> <tr> <td>infrastructure.allow_ip_spoofing</td> <td>Decide if IP spoofing is allowed for the interface or not</td> <td>No</td> <td>False (default), True</td> </tr> <tr> <td>infrastructure.keys</td> <td>List of SSH keys to attach to the VSI</td> <td>Yes, inferred from ssh_keys</td> <td>Existing <code>ssh_keys</code></td> </tr> <tr> <td>infrastructure.image</td> <td>Operating system image to be used</td> <td>Yes</td> <td>Existing image in IBM Cloud</td> </tr> <tr> <td>infrastructure.profile</td> <td>Server profile to be used, for example cx2-2x4</td> <td>Yes</td> <td>Existing profile in IBM Cloud</td> </tr> <tr> <td>infrastructure.subnet</td> <td>Subnet the VSI will be connected to</td> <td>Yes, inferred from sunset</td> <td>Existing <code>subnet</code></td> </tr> <tr> <td>infrastructure.primary_ipv4_address</td> <td>IP v4 address that will be assigned to the VSI</td> <td>No</td> <td>If specified, address in the <code>subnet</code> range</td> </tr> <tr> <td>infrastructure.public_ip</td> <td>Must a public IP address be attached to this VSI?</td> <td>No</td> <td>False (default), True</td> </tr> <tr> <td>infrastructure.vpc_name</td> <td>Virtual Private Cloud this VSI belongs to</td> <td>Yes, inferred from vpc</td> <td>Existing <code>vpc</code></td> </tr> <tr> <td>infrastructure.zone</td> <td>Zone the VSI will be plaed into</td> <td>Yes, inferred from subnet-&gt;zone</td> <td></td> </tr> </tbody> </table> <h3 id=ibm-cloud-transit_gateway>IBM Cloud <code>transit_gateway</code><a class=headerlink href=#ibm-cloud-transit_gateway title="Permanent link">ðŸ”—</a></h3> <p>Connects one or more VPCs to each other.</p> <div class=highlight><pre><span></span><code>transit_gateway:
- name: sample-tgw
  location: eu-de
  connections:
  - vpc: other-vpc
  - vpc: sample
</code></pre></div> <h4 id=property-explanation_9>Property explanation<a class=headerlink href=#property-explanation_9 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the transit gateway</td> <td>Yes</td> <td></td> </tr> <tr> <td>location</td> <td>IBM Cloud location of the transit gateway</td> <td>Yes</td> <td></td> </tr> <tr> <td>connections</td> <td>Defines which VPCs must be included in the transit gateway</td> <td>Yes</td> <td></td> </tr> <tr> <td>connection.vpc</td> <td>Defines the VPC to include. Every VPC must exist in the configuration, even if not managed by this configuration. When referencing an existing VPC, make sure that there is a <code>vpc</code> object of that name with <code>managed</code> set to <code>False</code>.</td> <td>Yes</td> <td>Existing <code>vpc</code></td> </tr> </tbody> </table> <h3 id=ibm-cloud-nfs_server>IBM Cloud <code>nfs_server</code><a class=headerlink href=#ibm-cloud-nfs_server title="Permanent link">ðŸ”—</a></h3> <p>Defines a Virtual Server Instance within the VPC that will be used as an NFS server.</p> <div class=highlight><pre><span></span><code>nfs_server:
- name: sample-nfs
  infrastructure:
    type: vpc
    vpc_name: sample
    subnet: sample-subnet-zone-1
    zone: eu-de-1
    primary_ipv4_address: 10.27.0.5
    image: ibm-redhat-8-3-minimal-amd64-3
    profile: cx2-2x4
    bastion_host: sample-bastion
    storage_folder: /data/nfs
    storage_profile: 10iops-tier
    keys:
      - &quot;sample-nfs-provision&quot;
</code></pre></div> <h4 id=property-explanation_10>Property explanation<a class=headerlink href=#property-explanation_10 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the Virtual Server Instance</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure</td> <td>Infrastructure attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure.image</td> <td>Operating system image to be used</td> <td>Yes</td> <td>Existing image in IBM Cloud</td> </tr> <tr> <td>infrastructure.profile</td> <td>Server profile to be used, for example cx2-2x4</td> <td>Yes</td> <td>Existing profile in IBM Cloud</td> </tr> <tr> <td>infrastructure.type</td> <td>Type of infrastructure for NFS servers to</td> <td>Yes</td> <td>vpc</td> </tr> <tr> <td>infrastructure.vpc_name</td> <td>Virtual Private Cloud this VSI belongs to</td> <td>Yes, inferred from vpc</td> <td>Existing <code>vpc</code></td> </tr> <tr> <td>infrastructure.subnet</td> <td>Subnet the VSI will be connected to</td> <td>Yes, inferred from subnet</td> <td>Existing <code>subnet</code></td> </tr> <tr> <td>infrastructure.zone</td> <td>Zone the VSI will be plaed into</td> <td>Yes, inferred from subnet-&gt;zone</td> <td></td> </tr> <tr> <td>infrastructure.primary_ipv4_address</td> <td>IP v4 address that will be assigned to the VSI</td> <td>No</td> <td>If specified, address in the <code>subnet</code> range</td> </tr> <tr> <td>infrastructure.bastion_host</td> <td>Specify the VSI of the bastion to reach this NFS server</td> <td>No</td> <td></td> </tr> <tr> <td>infrastructure.storage_profile</td> <td>Storage profile that will be used</td> <td>Yes</td> <td>3iops-tier, 5iops-tier, 10iops-tier</td> </tr> <tr> <td>infrastructure.volume_size_gb</td> <td>Size of the NFS server data volume</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure.storage_folder</td> <td>Folder that holds the data, this will be mounted from the NFS storage class</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure.keys</td> <td>List of SSH keys to attach to the NFS server VSI</td> <td>Yes, inferred from ssh_keys</td> <td>Existing <code>ssh_keys</code></td> </tr> <tr> <td>infrastructure.allow_ip_spoofing</td> <td>Decide if IP spoofing is allowed for the interface or not</td> <td>No</td> <td>False (default), True</td> </tr> </tbody> </table> <h3 id=ibm-cloud-cos>IBM Cloud <code>cos</code><a class=headerlink href=#ibm-cloud-cos title="Permanent link">ðŸ”—</a></h3> <p>Defines a IBM Cloud Cloud Object Storage instance and allows to create buckets.</p> <div class=highlight><pre><span></span><code>cos:
- name: {{ env_id }}-cos
  plan: standard
  location: global
  serviceids:
  - name: {{ env_id }}-cos-serviceid
    roles: [&quot;Manager&quot;, &quot;Viewer&quot;, &quot;Administrator&quot;]
  buckets:
  - name: bucketone6c9d6840
    cross_region_location: eu
</code></pre></div> <h4 id=property-explanation_11>Property explanation<a class=headerlink href=#property-explanation_11 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the serviceid</td> <td>Yes</td> <td></td> </tr> <tr> <td>plan</td> <td>short description of the serviceid</td> <td>Yes</td> <td></td> </tr> <tr> <td>location</td> <td>collection of servicekeys that should be created for the parent serviceid</td> <td>Yes</td> <td></td> </tr> <tr> <td>serviceids</td> <td>Collection of references to defined seriveids</td> <td>No</td> <td></td> </tr> <tr> <td>serviceids.name</td> <td>Name of the serviceid</td> <td>Yes</td> <td></td> </tr> <tr> <td>serviceids.roles</td> <td>An array of strings to define which role should be granted to the serviceid</td> <td>Yes</td> <td></td> </tr> <tr> <td>buckets</td> <td>Collection of buckets that should be created inside the cos instance</td> <td>No</td> <td></td> </tr> <tr> <td>buckets[].name</td> <td>Name of the bucket</td> <td>No</td> <td></td> </tr> <tr> <td>buckets[].storage_class</td> <td>Storage class of the bucket</td> <td>No</td> <td>standard (default), vault, cold, flex, smart</td> </tr> <tr> <td>buckets[].endpoint_type</td> <td>Endpoint type of the bucket</td> <td>No</td> <td>public (default), private</td> </tr> <tr> <td>buckets[].cross_region_location</td> <td>If you use this parameter, do not set single_site_location or region_location at the same time.</td> <td>Yes (one of)</td> <td>us, eu, ap</td> </tr> <tr> <td>buckets[].region_location</td> <td>If you set this parameter, do not set single_site_location or cross_region_location at the same time.</td> <td>Yes (one of)</td> <td>au-syd, eu-de, eu-gb, jp-tok, us-east, us-south, ca-tor, jp-osa, br-sao</td> </tr> <tr> <td>buckets[].single_site_location</td> <td>If you set this parameter, do not set region_location or cross_region_location at the same time.</td> <td>Yes (one of)</td> <td>ams03, che01, hkg02, mel01, mex01, mil01, mon01, osl01, par01, sjc04, sao01, seo01, sng01, and tor01</td> </tr> </tbody> </table> <h3 id=serviceid><code>serviceid</code><a class=headerlink href=#serviceid title="Permanent link">ðŸ”—</a></h3> <p>Defines a iam_service_id that can be granted several role based accesss right via attaching iam_policies to it.</p> <div class=highlight><pre><span></span><code>serviceid:
- name: sample-serviceid
  description: to access ibmcloud services from external
  servicekeys:
  - name: primarykey
</code></pre></div> <h4 id=property-explanation_12>Property explanation<a class=headerlink href=#property-explanation_12 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the serviceid</td> <td>Yes</td> <td></td> </tr> <tr> <td>description</td> <td>short description of the serviceid</td> <td>No</td> <td></td> </tr> <tr> <td>servicekeys</td> <td>collection of servicekeys that should be created for the parent serviceid</td> <td>No</td> <td></td> </tr> <tr> <td>servicekeys.name</td> <td>Name of the servicekey</td> <td>Yes</td> <td></td> </tr> </tbody> </table> <h2 id=microsoft-azure>Microsoft Azure<a class=headerlink href=#microsoft-azure title="Permanent link">ðŸ”—</a></h2> <p>For Microsoft Azure, the following object type is supported:</p> <ul> <li><a href=#azure>azure</a></li> </ul> <h3 id=azure>Azure<a class=headerlink href=#azure title="Permanent link">ðŸ”—</a></h3> <p>Defines an infrastructure configuration onto which OpenShift will be provisioned.</p> <div class=highlight><pre><span></span><code>azure:
- name: sample
  resource_group:
    name: sample
    location: westeurope
  vnet:
    name: vnet
    address_space: 10.0.0.0/22
  control_plane:
    subnet:
      name: control-plane-subnet
      address_prefixes: 10.0.0.0/23
  compute:
    subnet:
      name: compute-subnet
      address_prefixes: 10.0.2.0/23
</code></pre></div> <h4 id=properties-explanation>Properties explanation<a class=headerlink href=#properties-explanation title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the <code>azure</code> definition object, will be referenced by <code>openshift</code></td> <td>Yes</td> <td></td> </tr> <tr> <td>resource_group</td> <td>Resource group attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>resource_group.name</td> <td>Name of the resource group (will be provisioned)</td> <td>Yes</td> <td>unique value, it must not exist</td> </tr> <tr> <td>resource_group.location</td> <td>Azure location</td> <td>Yes</td> <td>to pick a different location, run: <code>az account list-locations -o table</code></td> </tr> <tr> <td>vnet</td> <td>Virtual network attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>vnet.name</td> <td>Name of the virtual network</td> <td>Yes</td> <td></td> </tr> <tr> <td>vnet.address_space</td> <td>Address space of the virtual network</td> <td>Yes</td> <td></td> </tr> <tr> <td>control_plane</td> <td>Control plane (master) nodes attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>control_plane.subnet</td> <td>Control plane nodes subnet attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>control_plane.subnet.name</td> <td>Name of the control plane nodes subnet</td> <td>Yes</td> <td></td> </tr> <tr> <td>control_plane.subnet.address_prefixes</td> <td>Address prefixes of the control plane nodes subnet (divided by a <code>,</code> comma, if relevant)</td> <td>Yes</td> <td></td> </tr> <tr> <td>control_plane.vm</td> <td>Control plane nodes virtual machine attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>control_plane.vm.size</td> <td>Virtual machine size (aka flavour) of the control plane nodes</td> <td>Yes</td> <td><code>Standard_D8s_v3</code>, <code>Standard_D16s_v3</code>, <code>Standard_D32s_v3</code></td> </tr> <tr> <td>compute</td> <td>Compute (worker) nodes attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>compute.subnet</td> <td>Compute nodes subnet attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>compute.subnet.name</td> <td>Name of the compute nodes subnet</td> <td>Yes</td> <td></td> </tr> <tr> <td>compute.subnet.address_prefixes</td> <td>Address prefixes of the compute nodes subnet (divided by a <code>,</code> comma, if relevant)</td> <td>Yes</td> <td></td> </tr> <tr> <td>compute.vm</td> <td>Compute nodes virtual machine attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>compute.vm.size</td> <td>Virtual machine size (aka flavour) of the compute nodes</td> <td>Yes</td> <td>See the full list of <a href=https://docs.microsoft.com/en-us/azure/openshift/support-policies-v4#supported-virtual-machine-sizes>supported virtual machine sizes</a></td> </tr> <tr> <td>compute.vm.disk_size_gb</td> <td>Disk size in GBs of the compute nodes virtual machine</td> <td>Yes</td> <td>minimum value is 128</td> </tr> <tr> <td>compute.vm.count</td> <td>Number of compute nodes virtual machines</td> <td>Yes</td> <td>minimum value is 3</td> </tr> </tbody> </table> <h2 id=amazon>Amazon<a class=headerlink href=#amazon title="Permanent link">ðŸ”—</a></h2> <p>For Amazon AWS, the following object types are supported:</p> <ul> <li><a href=#aws--efs-server-nfs_server>nfs_server</a></li> </ul> <h3 id=aws-efs-server-nfs_server>AWS EFS Server <code>nfs_server</code><a class=headerlink href=#aws-efs-server-nfs_server title="Permanent link">ðŸ”—</a></h3> <p>Defines a new Elastic File Storage (EFS) service that is connected to the OpenShift cluster within the same VPC. The file storage will be used as the back-end for the <code>efs-nfs-client</code> OpenShift storage class.</p> <div class=highlight><pre><span></span><code>nfs_server:
- name: sample-elastic
  infrastructure:
    aws_region: eu-west-1
</code></pre></div> <h4 id=property-explanation_13>Property explanation<a class=headerlink href=#property-explanation_13 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the EFS File System service to be created</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure</td> <td>Infrastructure attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure.aws_region</td> <td>AWS region where the storage will be provisioned</td> <td>Yes</td> <td></td> </tr> </tbody> </table> <h2 id=vsphere>vSphere<a class=headerlink href=#vsphere title="Permanent link">ðŸ”—</a></h2> <p>For vSphere, the following object types are supported:</p> <ul> <li><a href=#vsphere-vsphere>vsphere</a></li> <li><a href=#vsphere-vm_definition>vm_definition</a></li> <li><a href=#vsphere-nfs_server>nfs_server</a></li> </ul> <h3 id=vsphere-vsphere>vSphere <code>vsphere</code><a class=headerlink href=#vsphere-vsphere title="Permanent link">ðŸ”—</a></h3> <p>Defines the vSphere vCenter onto which OpenShift will be provisioned.</p> <div class=highlight><pre><span></span><code>vsphere:
- name: sample
  vcenter: 10.99.92.13
  datacenter: Datacenter1
  datastore: Datastore1
  cluster: Cluster1
  network: &quot;VM Network&quot;
  folder: /Datacenter1/vm/sample
</code></pre></div> <h4 id=property-explanation_14>Property explanation<a class=headerlink href=#property-explanation_14 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the vSphere definition, will be referenced by <code>openshift</code></td> <td>Yes</td> <td></td> </tr> <tr> <td>vcenter</td> <td>Host or IP address of the vSphere Center</td> <td>Yes</td> <td></td> </tr> <tr> <td>datacenter</td> <td>vSphere Data Center to be used for the virtual machines</td> <td>Yes</td> <td></td> </tr> <tr> <td>datastore</td> <td>vSphere Datastore to be used for the virtual machines</td> <td>Yes</td> <td></td> </tr> <tr> <td>cluster</td> <td>vSphere cluster to be used for the virtual machines</td> <td>Yes</td> <td></td> </tr> <tr> <td>resource_pool</td> <td>vSphere resource pool</td> <td>No</td> <td></td> </tr> <tr> <td>network</td> <td>vSphere network to be used for the virtual machines</td> <td>Yes</td> <td></td> </tr> <tr> <td>folder</td> <td>Fully qualified folder name into which the OpenShift cluster will be placed</td> <td>Yes</td> <td></td> </tr> </tbody> </table> <h3 id=vsphere-vm_definition>vSphere <code>vm_definition</code><a class=headerlink href=#vsphere-vm_definition title="Permanent link">ðŸ”—</a></h3> <p>Defines the virtual machine properties to be used for the control-plane nodes and compute nodes.</p> <div class=highlight><pre><span></span><code>vm_definition:
- name: control-plane
  vcpu: 8
  memory_mb: 32768
  boot_disk_size_gb: 100
- name: compute
  vcpu: 16
  memory_mb: 65536
  boot_disk_size_gb: 200
  # Optional overrides for vsphere properties
  # datastore: Datastore1
  # network: &quot;VM Network&quot;
</code></pre></div> <h4 id=property-explanation_15>Property explanation<a class=headerlink href=#property-explanation_15 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the VM definition, will be referenced by <code>openshift</code></td> <td>Yes</td> <td></td> </tr> <tr> <td>vcpu</td> <td>Number of virtual CPUs to be assigned to the VMs</td> <td>Yes</td> <td></td> </tr> <tr> <td>memory_mb</td> <td>Amount of memory in MiB of the virtual machines</td> <td>Yes</td> <td></td> </tr> <tr> <td>boot_disk_size_gb</td> <td>Size of the virtual machine boot disk in GiB</td> <td>Yes</td> <td></td> </tr> <tr> <td>datastore</td> <td>vSphere Datastore to be used for the virtual machines, overrides <code>vsphere.datastore</code></td> <td>No</td> <td></td> </tr> <tr> <td>network</td> <td>vSphere network to be used for the virtual machines, overrides <code>vsphere.network</code></td> <td>No</td> <td></td> </tr> </tbody> </table> <h3 id=vsphere-nfs_server>vSphere <code>nfs_server</code><a class=headerlink href=#vsphere-nfs_server title="Permanent link">ðŸ”—</a></h3> <p>Defines an existing NFS server that will be used for the OpenShift NFS storage class.</p> <div class=highlight><pre><span></span><code>nfs_server:
- name: sample-nfs
  infrastructure:
    host_ip: 10.99.92.31
    storage_folder: /data/nfs
</code></pre></div> <h4 id=property-explanation_16>Property explanation<a class=headerlink href=#property-explanation_16 title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the NFS server</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure</td> <td>Infrastructure attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure.host_ip</td> <td>Host or IP address of the NFS server</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure.storage_folder</td> <td>Folder that holds the data, this will be mounted from the NFS storage class</td> <td>Yes</td> <td></td> </tr> </tbody> </table> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../vault/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Vault" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Vault </div> </div> </a> <a href=../openshift/ class="md-footer__link md-footer__link--next" aria-label="Next: OpenShift" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> OpenShift </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.37e9125f.min.js></script> <script src=../../../js/open_in_new_tab.js></script> </body> </html>