<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Automated deployer of OpenShift cluster and IBM Cloud Paks"><meta name=author content=Author><link href=https://ibm.github.io/cloud-pak-deployer/80-development/deployer-development-setup/ rel=canonical><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.3.1, mkdocs-material-8.5.3"><title>Deployer development setup - Cloud Pak Deployer</title><link rel=stylesheet href=../../assets/stylesheets/main.7a952b86.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.cbb835fc.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../css/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=none data-md-color-accent=none> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#deployer-development-setup class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Cloud Pak Deployer" class="md-header__button md-logo" aria-label="Cloud Pak Deployer" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Cloud Pak Deployer </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Deployer development setup </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/IBM/cloud-pak-deployer title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> Cloud Pak Deployer </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Cloud Pak Deployer" class="md-nav__button md-logo" aria-label="Cloud Pak Deployer" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> Cloud Pak Deployer </label> <div class=md-nav__source> <a href=https://github.com/IBM/cloud-pak-deployer title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> Cloud Pak Deployer </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../01-introduction/current-state/ class=md-nav__link> Current state </a> </li> <li class=md-nav__item> <a href=../../05-install/install/ class=md-nav__link> Installing Cloud Pak Deployer </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Using Cloud Pak Deployer <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Using Cloud Pak Deployer" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Using Cloud Pak Deployer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../10-use-deployer/1-overview/overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> Run <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Run data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Run </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../10-use-deployer/3-run/run/ class=md-nav__link> Running Cloud Pak Deployer </a> </li> <li class=md-nav__item> <a href=../../10-use-deployer/3-run/existing-openshift/ class=md-nav__link> Existing OpenShift </a> </li> <li class=md-nav__item> <a href=../../10-use-deployer/3-run/existing-openshift-console/ class=md-nav__link> Existing OpenShift using Console </a> </li> <li class=md-nav__item> <a href=../../10-use-deployer/3-run/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> <li class=md-nav__item> <a href=../../10-use-deployer/3-run/aws-rosa/ class=md-nav__link> AWS ROSA </a> </li> <li class=md-nav__item> <a href=../../10-use-deployer/3-run/aws-self-managed/ class=md-nav__link> AWS Self-managed </a> </li> <li class=md-nav__item> <a href=../../10-use-deployer/3-run/azure-aro/ class=md-nav__link> Azure ARO </a> </li> <li class=md-nav__item> <a href=../../10-use-deployer/3-run/azure-self-managed/ class=md-nav__link> Azure Self-managed </a> </li> <li class=md-nav__item> <a href=../../10-use-deployer/3-run/vsphere/ class=md-nav__link> vSphere </a> </li> <li class=md-nav__item> <a href=../../10-use-deployer/3-run/fusion-hci/ class=md-nav__link> Spectrum HCI </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3 type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3> Post-run <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Post-run data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Post-run </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../10-use-deployer/5-post-run/post-run/ class=md-nav__link> Post-run changes </a> </li> <li class=md-nav__item> <a href=../../10-use-deployer/7-command/command/ class=md-nav__link> Running commands </a> </li> <li class=md-nav__item> <a href=../../10-use-deployer/9-destroy/destroy/ class=md-nav__link> Destroy cluster </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Reference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Reference data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1 type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1> Configuration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Configuration data-md-level=2> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../30-reference/configuration/topologies/ class=md-nav__link> Topologies </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/cpd-objects/ class=md-nav__link> Objects overview </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/cpd-global-config/ class=md-nav__link> Global config </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/vault/ class=md-nav__link> Vault </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/infrastructure/ class=md-nav__link> Infrastructure </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1_6 type=checkbox id=__nav_5_1_6> <label class=md-nav__link for=__nav_5_1_6> OpenShift <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=OpenShift data-md-level=3> <label class=md-nav__title for=__nav_5_1_6> <span class="md-nav__icon md-icon"></span> OpenShift </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../30-reference/configuration/openshift/ class=md-nav__link> OpenShift </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1_6_2 type=checkbox id=__nav_5_1_6_2> <label class=md-nav__link for=__nav_5_1_6_2> Identity and Access Management <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Identity and Access Management" data-md-level=4> <label class=md-nav__title for=__nav_5_1_6_2> <span class="md-nav__icon md-icon"></span> Identity and Access Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../30-reference/configuration/redhat-sso/ class=md-nav__link> Red Hat SSO </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/demo-openldap/ class=md-nav__link> Demo OpenLDAP </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/monitoring/ class=md-nav__link> Monitoring </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/monitoring/ class=md-nav__link> Logging and auditing </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/dns/ class=md-nav__link> DNS </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/cloud-pak/ class=md-nav__link> Cloud Paks </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1_8 type=checkbox id=__nav_5_1_8> <label class=md-nav__link for=__nav_5_1_8> Cloud Pak for Data <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Data" data-md-level=3> <label class=md-nav__title for=__nav_5_1_8> <span class="md-nav__icon md-icon"></span> Cloud Pak for Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../30-reference/configuration/cp4d-cartridges/ class=md-nav__link> Cartridges </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/cp4d-instances/ class=md-nav__link> Instances </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/cp4d-connections/ class=md-nav__link> Platform connections </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/cp4d-access-control/ class=md-nav__link> Access Control </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/cp4d-assets/ class=md-nav__link> Assets </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/monitoring/ class=md-nav__link> Monitoring </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/logging-auditing/ class=md-nav__link> Logging and auditing </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/cp4ba/ class=md-nav__link> Cloud Pak for Business Automation </a> </li> <li class=md-nav__item> <a href=../../30-reference/configuration/private-registry/ class=md-nav__link> Private registries </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2 type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2> Process <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Process data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Process </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../30-reference/process/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../30-reference/process/validate/ class=md-nav__link> Validate </a> </li> <li class=md-nav__item> <a href=../../30-reference/process/prepare/ class=md-nav__link> Prepare </a> </li> <li class=md-nav__item> <a href=../../30-reference/process/provision-infra/ class=md-nav__link> Provision infra </a> </li> <li class=md-nav__item> <a href=../../30-reference/process/configure-infra/ class=md-nav__link> Configure infra </a> </li> <li class=md-nav__item> <a href=../../30-reference/process/install-cloud-pak/ class=md-nav__link> Install Cloud Paks </a> </li> <li class=md-nav__item> <a href=../../30-reference/process/configure-cloud-pak/ class=md-nav__link> Configure Cloud Paks </a> </li> <li class=md-nav__item> <a href=../../30-reference/process/deploy-assets/ class=md-nav__link> Deploy assets </a> </li> <li class=md-nav__item> <a href=../../30-reference/process/smoke-tests/ class=md-nav__link> Smoke tests </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../30-reference/timings/ class=md-nav__link> Timings </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Troubleshooting <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Troubleshooting data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../40-troubleshooting/cp4d-uninstall/ class=md-nav__link> Cloud Pak for Data uninstall </a> </li> <li class=md-nav__item> <a href=../../40-troubleshooting/ibm-cloud-access-nfs-server/ class=md-nav__link> Access NFS server on IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> Advanced <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Advanced data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7_1 type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1> Run on OpenShift <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Run on OpenShift" data-md-level=2> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> Run on OpenShift </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../50-advanced/run-on-openshift/run-deployer-on-openshift-using-console/ class=md-nav__link> Running deployer on OpenShift using console </a> </li> <li class=md-nav__item> <a href=../../50-advanced/run-on-openshift/build-image-and-run-deployer-on-openshift/ class=md-nav__link> Build image and run deployer on OpenShift </a> </li> <li class=md-nav__item> <a href=../../50-advanced/run-on-openshift/run-deployer-wizard-on-openshift/ class=md-nav__link> Run deployer wizard on OpenShift </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../50-advanced/private-registry-and-air-gapped/ class=md-nav__link> Private registry and air-gapped </a> </li> <li class=md-nav__item> <a href=../../50-advanced/alternative-repo-reg/ class=md-nav__link> Using alternative CASE repositories and registries </a> </li> <li class=md-nav__item> <a href=../../50-advanced/advanced-configuration/ class=md-nav__link> Advanced configuration </a> </li> <li class=md-nav__item> <a href=../../50-advanced/locations-to-whitelist/ class=md-nav__link> Locations to whitelist </a> </li> <li class=md-nav__item> <a href=../../50-advanced/apply-node-settings-non-mco/ class=md-nav__link> Apply node settings to non-MCO clusters </a> </li> <li class=md-nav__item> <a href=../../50-advanced/cp4d-pre-release/ class=md-nav__link> Installing pre-releases of Cloud Pak for DAta </a> </li> <li class=md-nav__item> <a href=../../50-advanced/gitops/ class=md-nav__link> GitOps </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8 checked> <label class=md-nav__link for=__nav_8> Development <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Development data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Deployer development setup <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Deployer development setup </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#set-up-a-server-for-development class=md-nav__link> Set up a server for development </a> <nav class=md-nav aria-label="Set up a server for development"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-required-packages class=md-nav__link> Install required packages </a> </li> <li class=md-nav__item> <a href=#set-up-development-user class=md-nav__link> Set up development user </a> </li> <li class=md-nav__item> <a href=#configure-password-less-ssh-for-development-user class=md-nav__link> Configure password-less SSH for development user </a> </li> <li class=md-nav__item> <a href=#configure-git-for-the-development-user class=md-nav__link> Configure Git for the development user </a> </li> <li class=md-nav__item> <a href=#set-up-gpg-for-the-development-user class=md-nav__link> Set up GPG for the development user </a> </li> <li class=md-nav__item> <a href=#clone-the-repository class=md-nav__link> Clone the repository </a> </li> <li class=md-nav__item> <a href=#connect-vscode-to-the-development-server class=md-nav__link> Connect VSCode to the development server </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cloud-pak-deployer-developer-command-line-option class=md-nav__link> Cloud Pak Deployer developer command line option </a> </li> <li class=md-nav__item> <a href=#cloud-pak-deployer-developer-container-image-tag class=md-nav__link> Cloud Pak Deployer developer container image tag </a> </li> <li class=md-nav__item> <a href=#cloud-pak-deployer-podman-or-docker-command class=md-nav__link> Cloud Pak Deployer podman or docker command </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../doc-development-setup/ class=md-nav__link> Deployer documentation development setup </a> </li> <li class=md-nav__item> <a href=../doc-guidelines/ class=md-nav__link> Deployer documentation guidelines </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#set-up-a-server-for-development class=md-nav__link> Set up a server for development </a> <nav class=md-nav aria-label="Set up a server for development"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-required-packages class=md-nav__link> Install required packages </a> </li> <li class=md-nav__item> <a href=#set-up-development-user class=md-nav__link> Set up development user </a> </li> <li class=md-nav__item> <a href=#configure-password-less-ssh-for-development-user class=md-nav__link> Configure password-less SSH for development user </a> </li> <li class=md-nav__item> <a href=#configure-git-for-the-development-user class=md-nav__link> Configure Git for the development user </a> </li> <li class=md-nav__item> <a href=#set-up-gpg-for-the-development-user class=md-nav__link> Set up GPG for the development user </a> </li> <li class=md-nav__item> <a href=#clone-the-repository class=md-nav__link> Clone the repository </a> </li> <li class=md-nav__item> <a href=#connect-vscode-to-the-development-server class=md-nav__link> Connect VSCode to the development server </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cloud-pak-deployer-developer-command-line-option class=md-nav__link> Cloud Pak Deployer developer command line option </a> </li> <li class=md-nav__item> <a href=#cloud-pak-deployer-developer-container-image-tag class=md-nav__link> Cloud Pak Deployer developer container image tag </a> </li> <li class=md-nav__item> <a href=#cloud-pak-deployer-podman-or-docker-command class=md-nav__link> Cloud Pak Deployer podman or docker command </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/IBM/cloud-pak-deployer/edit/main/docs/80-development/deployer-development-setup.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=deployer-development-setup>Deployer Development Setup<a class=headerlink href=#deployer-development-setup title="Permanent link">ðŸ”—</a></h1> <p>Setting up a virtual machine or server to develop the Cloud Pak Deployer code. Focuses on initial setup of a server to run the deployer container, setting up Visual Studio Code, issuing GPG keys and running the deployer in development mode.</p> <h2 id=set-up-a-server-for-development>Set up a server for development<a class=headerlink href=#set-up-a-server-for-development title="Permanent link">ðŸ”—</a></h2> <p>We recommend to use a Red Hat Linux server for development of the Cloud Pak Deployer, either using a virtual server in the cloud or a virtual machine on your workstation. Ideally you run Visual Studio Code on your workstation and connect it to the remote Red Hat Linux server, updating the code and running it immediately from that server.</p> <h3 id=install-required-packages>Install required packages<a class=headerlink href=#install-required-packages title="Permanent link">ðŸ”—</a></h3> <p>To allow for remote development, a number of packages need to be installed on the Linux server. Not having these will cause VSCode not to work and the error messages are difficult to debug. To install these packages, run the following as the <code>root</code> user: <div class=highlight><pre><span></span><code>yum install -y git podman wget unzip tar gpg pinentry
</code></pre></div></p> <p>Additionally, you can also install EPEL and <code>screen</code> to make it easier to keep your session if it gets disconnected. <div class=highlight><pre><span></span><code>yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm
yum install -y screen
</code></pre></div></p> <h3 id=set-up-development-user>Set up development user<a class=headerlink href=#set-up-development-user title="Permanent link">ðŸ”—</a></h3> <p>It is recommended to use a special development user (your user name) on the Linux server, rather than using <code>root</code>. Not only will this be more secure; it also prevent destructive mistakes. In the below steps, we create a user <code>fk-dev</code> and give it <code>sudo</code> permissions.</p> <div class=highlight><pre><span></span><code>useradd -G wheel fk-dev
</code></pre></div> <p>To give the <code>fk-dev</code> permissions to run commands as <code>root</code>, change the <code>sudo</code> settings. <div class=highlight><pre><span></span><code>visudo
</code></pre></div></p> <p>Scroll down until you see the following line: <div class=highlight><pre><span></span><code># %wheel        ALL=(ALL)       NOPASSWD: ALL
</code></pre></div></p> <p>Change the line to look like this: <div class=highlight><pre><span></span><code>%wheel        ALL=(ALL)       NOPASSWD: ALL
</code></pre></div></p> <p>Now, save the file by pressing Esc, followed by <code>:</code> and <code>x</code>.</p> <h3 id=configure-password-less-ssh-for-development-user>Configure password-less SSH for development user<a class=headerlink href=#configure-password-less-ssh-for-development-user title="Permanent link">ðŸ”—</a></h3> <p>Especially when running the virtual server in the cloud, users would logon using their SSH key. This requires the public key of the workstation to be added to the development user's SSH configuration.</p> <p>Make sure you run the following commands as the development user (fk-dev): <div class=highlight><pre><span></span><code>mkdir -p ~/.ssh
chmod 700 ~/.ssh
touch ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys
</code></pre></div></p> <p>Then, add the public key of your workstation to the <code>authorized_keys</code> file. <div class=highlight><pre><span></span><code>vi ~/.ssh/authorized_keys
</code></pre></div></p> <p>Press the <code>i</code> to enter insert mode for <code>vi</code>. Then paste the public SSH key, for example: <div class=highlight><pre><span></span><code>ssh-rsa AAAAB3NzaC1yc2EAAAADAXABAAABAQEGUeXJr0ZHy1SPGOntmr/7ixmK3KV8N3q/+0eSfKVTyGbhUO9lC1+oYcDvwMrizAXBJYWkIIwx4WgC77a78....fP3S5WYgqL fk-dev
</code></pre></div></p> <p>Finally save the file by pressing Esc, followed by <code>:</code> and <code>x</code>.</p> <h3 id=configure-git-for-the-development-user>Configure Git for the development user<a class=headerlink href=#configure-git-for-the-development-user title="Permanent link">ðŸ”—</a></h3> <p>Run the following commands as the development user (fk-dev): <div class=highlight><pre><span></span><code>git config --global user.name &quot;Your full name&quot;
git config --global user.email &quot;your_email_address&quot;
git config --global credential.helper &quot;cache --timeout=86400&quot;
</code></pre></div></p> <h3 id=set-up-gpg-for-the-development-user>Set up GPG for the development user<a class=headerlink href=#set-up-gpg-for-the-development-user title="Permanent link">ðŸ”—</a></h3> <p>We also want to ensure that commits are verified (trusted) by signing them with a GPG key. This requires set up on the development server and also on your Git account.</p> <p>First, set up a new GPG key: <div class=highlight><pre><span></span><code>gpg --default-new-key-algo rsa4096 --gen-key
</code></pre></div></p> <p>You will be prompted to specify your user information:</p> <ul> <li>Real name: Enter your full name</li> <li>Email address: Your e-mail address that will be used to sign the commits</li> </ul> <p>Press <code>o</code> at the following prompt: <div class=highlight><pre><span></span><code>Change (N)ame, (E)mail, or (O)kay/(Q)uit?
</code></pre></div></p> <p>Then, you will be prompted for a passphrase. You cannot use a passphrase for your GPG key if you want to use it for automatic signing of commits. Just press Enter multiple times until the GPG key has been generated.</p> <p>List the signatures of the known keys. You will use the signature to sign the commits and to retrieve the public key. <div class=highlight><pre><span></span><code>gpg --list-signatures
</code></pre></div></p> <p>Output will look something like this: <div class=highlight><pre><span></span><code><span class=go>/home/fk-dev/.gnupg/pubring.kbx</span>
<span class=go>-----------------------------------</span>
<span class=go>pub   rsa4096 2022-10-30 [SC] [expires: 2024-10-29]</span>
<span class=go>      BC83E8A97538EDD4E01DC05EA83C67A6D7F71756</span>
<span class=go>uid           [ultimate] FK Developer &lt;fk-dev@ibm.com&gt;</span>
<span class=go>sig 3        A83C67A6D7F71756 2022-10-30  FK Developer &lt;fk-dev@ibm.com&gt;</span>
</code></pre></div></p> <p>You will use the signature to retrieve the public key: <div class=highlight><pre><span></span><code>gpg --armor --export A83C67A6D7F71756
</code></pre></div></p> <p>The public key will look something like below: <div class=highlight><pre><span></span><code><span class=go>-----BEGIN PGP PUBLIC KEY BLOCK-----</span>

<span class=go>mQINBGNeGNQBEAC/y2tovX5s0Z+onUpisnMMleG94nqOtajXG1N0UbHAUQyKfirt</span>
<span class=go>O8t91ek+e5PEsVkR/RLIM1M1YkiSV4irxW/uFPucXHZDVH8azfnJjf6j6cXWt/ra</span>
<span class=go>1I2vGV3dIIQ6aJIBEEXC+u+N6rWpCOF5ERVrumGFlDhL/PY8Y9NM0cNQCbOcciTV</span>
<span class=go>5a5DrqyHC3RD5Bcn5EA0/5ISTCGQyEbJe45G8L+a5yRchn4ACVEztR2B/O5iOZbM</span>
<span class=go>.</span>
<span class=go>.</span>
<span class=go>.</span>
<span class=go>4ojOJPu0n5QLA5cI3RyZFw==</span>
<span class=go>=sx91</span>
<span class=go>-----END PGP PUBLIC KEY BLOCK-----</span>
</code></pre></div></p> <p>Now that you have the signature, you can configure Git to sign commits: <div class=highlight><pre><span></span><code>git config --global user.signingkey A83C67A6D7F71756
</code></pre></div></p> <p>Next, add your GPG key to your Git user.</p> <ul> <li>Go to <a class="magiclink magiclink-github magiclink-repository" href=https://github.com/IBM/cloud-pak-deployer.git title="GitHub Repository: IBM/cloud-pak-deployer.git">IBM/cloud-pak-deployer.git</a></li> <li>Log in using your public GitHub user</li> <li>Click on your user at the top right of the pages</li> <li>Click <strong>select</strong></li> <li>In the left menu, select <strong>SSH and GPG keys</strong></li> <li>Click <strong>New GPG key</strong></li> <li>Enter a meaningful title for your GPG key, for example: <strong>FK Development Server</strong></li> <li>Paste the public GPG key</li> <li>Confirm by pushing the <strong>Add GPG key</strong> button</li> </ul> <p>Commits done on your development server will now be signed with your user name and e-mail address and will show as <strong>Verified</strong> when listing the commits.</p> <h3 id=clone-the-repository>Clone the repository<a class=headerlink href=#clone-the-repository title="Permanent link">ðŸ”—</a></h3> <p>Clone the repository using a <code>git</code> command. The command below is the clone of the main Cloud Pak Deployer repository. If you have forked the repository to develop features, you will have to use the URL of your own fork. <div class=highlight><pre><span></span><code>git clone https://github.com/IBM/cloud-pak-deployer.git
</code></pre></div></p> <h3 id=connect-vscode-to-the-development-server>Connect VSCode to the development server<a class=headerlink href=#connect-vscode-to-the-development-server title="Permanent link">ðŸ”—</a></h3> <ul> <li>Install the <strong>Remote - SSH</strong> extension in VSCode</li> <li>Click on the green icon in the lower left of VSCode</li> <li>Open SSH Config file, choose the one in your home directory</li> <li>Add the following lines: <div class=highlight><pre><span></span><code>Host nickname_of_your_server
   HostName ip_address_of_your_server
   User fk-dev
</code></pre></div></li> </ul> <p>Once you have set up this server in the SSH config file, you can connect to it and start remote development. </p> <ul> <li>Open</li> <li>Select the <code>cloud-pak-deployer</code> directory (this is the cloned repository)</li> <li>As the directory is a cloned Git repo, VSCode will automatically open the default branch</li> </ul> <p>From that point forward you can use VSCode as if you were working on your laptop, make changes and use a separate terminal to test your changes.</p> <h2 id=cloud-pak-deployer-developer-command-line-option>Cloud Pak Deployer developer command line option<a class=headerlink href=#cloud-pak-deployer-developer-command-line-option title="Permanent link">ðŸ”—</a></h2> <p>The Cloud Pak Deployer runs as a container on the server. When you're in the process of developing new features, having to always rebuild the image is a bit of a pain, hence we've introduced a special command line parameter.</p> <div class=highlight><pre><span></span><code>./cp-deploy.sh env apply .... --cpd-develop [--accept-all-liceneses]
</code></pre></div> <p>When adding the <code>--cpd-develop</code> parameter to the command line, the current directory is mapped as a volume to the <code>/cloud-pak-deployer</code> directory within the container. This means that any latest changes you've done to the Ansible playbooks or other commands will take effect immediately.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Even though it is possible to run the deployer multiple times in parallel, for different environments, please be aware that is NOT possible when you use the <code>--cpd-develop</code> parameter. If you run two deploy processes with this parameters, you will see errors with permissions.</p> </div> <h2 id=cloud-pak-deployer-developer-container-image-tag>Cloud Pak Deployer developer container image tag<a class=headerlink href=#cloud-pak-deployer-developer-container-image-tag title="Permanent link">ðŸ”—</a></h2> <p>When working on multiple changes concurrently, you may have to switch between branches or tags. By default, the Cloud Pak Deployer image is built with image <code>latest</code>, but you can override this by setting the <code>CPD_IMAGE_TAG</code> environment variable in your session.</p> <div class=highlight><pre><span></span><code>export CPD_IMAGE_TAG=cp4d-460
./cp-deploy.sh build
</code></pre></div> <p>When building the deployer, the image is now tagged: <div class=highlight><pre><span></span><code>podman image ls
</code></pre></div></p> <div class=highlight><pre><span></span><code><span class=go>REPOSITORY                           TAG         IMAGE ID      CREATED        SIZE</span>
<span class=go>localhost/cloud-pak-deployer         cp4d-460    8b08cb2f9a2e  8 minutes ago  1.92 GB</span>
</code></pre></div> <p>When running the deployer with the same environment variable set, you will see an additional message in the output. <div class=highlight><pre><span></span><code>./cp-deploy.sh env apply
</code></pre></div></p> <div class=highlight><pre><span></span><code><span class=go>Cloud Pak Deployer image tag cp4d-460 will be used.</span>
<span class=go>...</span>
</code></pre></div> <h2 id=cloud-pak-deployer-podman-or-docker-command>Cloud Pak Deployer podman or docker command<a class=headerlink href=#cloud-pak-deployer-podman-or-docker-command title="Permanent link">ðŸ”—</a></h2> <p>By default, the <code>cp-deploy.sh</code> command detects if <code>podman</code> (preferred) or <code>docker</code> is found on the system. In case both are present, <code>podman</code> is used. You can override this behaviour by setting the <code>CPD_CONTAINER_ENGINE</code> environment variable.</p> <div class=highlight><pre><span></span><code>export CPD_CONTAINER_ENGINE=docker
./cp-deploy.sh build
</code></pre></div> <div class=highlight><pre><span></span><code><span class=go>Container engine docker will be used.</span>
</code></pre></div> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../50-advanced/gitops/ class="md-footer__link md-footer__link--prev" aria-label="Previous: GitOps" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> GitOps </div> </div> </a> <a href=../doc-development-setup/ class="md-footer__link md-footer__link--next" aria-label="Next: Deployer documentation development setup" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Deployer documentation development setup </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.37e9125f.min.js></script> <script src=../../js/open_in_new_tab.js></script> </body> </html>